<div
  class="d-flex justify-content-center align-items-center"
  style="min-height: 80vh"
>
  <div
    class="card shadow animate-error"
    style="
      background-color: #2d2d2d;
      border: none;
      max-width: 500px;
      width: 100%;
    "
  >
    <div class="card-body text-center">
      <h1 class="display-4 mb-3" style="color: #ffffff; font-weight: 700">
        Oops! An Error Occurred
      </h1>
      <p class="text-danger mb-3">{{.Error}}</p>
      <p style="color: #f5f5f5">
        This error occurred at: <span id="error-timestamp">{{.Timestamp}}</span>
      </p>
      <p style="color: #f5f5f5">
        If this issue persists, please contact support at
        <a href="mailto:support@iotgo.com" style="color: #00c4b4"
          >support@iotgo.com</a
        >.
      </p>
      <div class="d-flex justify-content-center gap-3 mt-4">
        {{if .Redirect}}
        <a
          href="{{.Redirect}}"
          class="btn btn-primary"
          style="background-color: #007bff; border: none; font-weight: 600"
          >Go Back</a
        >
        {{end}}
        <a
          href="/"
          class="btn btn-secondary"
          style="background-color: #6c757d; border: none; font-weight: 600"
          >Return to Homepage</a
        >
        {{if .RetryURL}}
        <a
          href="{{.RetryURL}}"
          class="btn btn-outline-primary"
          style="border-color: #007bff; color: #007bff"
          >Retry Action</a
        >
        {{end}}
      </div>
    </div>
  </div>
</div>

<style>
  .animate-error {
    animation: fadeIn 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 576px) {
    .card-body {
      padding: 20px;
    }
    .display-4 {
      font-size: 2rem;
    }
  }
</style>

<script>
  // Set the error timestamp dynamically
  document.getElementById("error-timestamp").textContent =
    new Date().toLocaleString();
</script>
